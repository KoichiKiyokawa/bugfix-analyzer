# メモ
## 仮定検証結果
検証する仮定：「バグ修正で追加される行の多くはその時点でのソースコードに存在している」

| オープンソース名 | 分析対象コミット数 | そのうちバグ修正コミット | バグ修正のために挿入された行数 | そのうち、もとのソースコードに含まれていたもの
|:--:|--:|--:|--:|--:
|common-math|6387|1110|66732|22038
|common-lang|5303|500|11308|3531
|mockito|4576|871|36700|12088|
|closure-compiler|12941|390|39899|15423
|jfreechart|3646|603|10463|6931
|joda-time|2075|489|13105|4879

## common-mathについて
### 調査対象
e009e73e7512a36ab6fa8933fba7de454c4fa39aまでのコミット

### バグ修正コミットの割合
全コミット：6387に対して、バグ修正のコミットは123  
内訳：  
```
reached 1000commits
2d37d670792934e0548096b4045caa66a6b38ecc(←1000コミット目のsha)
1 ~ 1000までのバグ 53
reached 2000commits
896104717390af47c205942e42a3d3f48a26ef70(←2000コミット目のsha)
1001 ~ 2000までのバグ 174
reached 3000commits
b5d183025dd2282ce29262f918551ba35f4f83f4
2001 ~ 3000までのバグ 114
reached 4000commits
28a66efb7637d26152c3e42e5f851be679dc5719
3001 ~ 4000までのバグ 46
reached 5000commits
b3b5e6c869d06e702482e79004fcbd3637f8d215
4001 ~ 5000までのバグ 37
reached 6000commits
1d5f8faa87a410fdd1141ad82f270ac238293770
5001 ~ 6000までのバグ 52
```
所感：開発初期のほうがバグ修正は多い気がしたがそんなことはなかった


### 仮定の検証
バグ修正コミットの挿入行とある時点でのjavaファイルの行を比較。
「バグ修正で追加される行の多くはその時点でのソースコードに存在している」という仮説を検証  
~~1000コミット〜におけるバグ修正のための挿入行は41044行  
そのうち、1000コミット時点でのソースコードに含まれているのは11558行。~~  
 一見多いように思えるが、本来であれば複数行で一つの意味を持つ挿入を各行で分割して捉えてしまっているのがネック。
　→連続する+（挿入）は改行なしで一つの行とみなして分析する必要あり。
　ただし、以下のように見通しのために途中で改行をしているコードがあるとして

```
hoge(a, b,
	c)
```
となっているときにbだけ変更したとすると、gitのlogには「ひとつの行とみなすべきコードの一部しか出力されない」という問題が発生するためpending
　
### 現状の問題点
- コメントの修正等も含まれてしまっている。